@page "/"
@using AntDesign
@using System.Timers
@using PaginaEEST1.Components.Pages.Modals

<PageTitle>Inicio</PageTitle>

<style>
    .page-content {
        padding: 2rem;
        background: linear-gradient(to bottom, #ffffff, #f0f2f5);
        min-height: 100vh;
    }

    .header-section {
        position: relative;
        background-color: #A2C1DD;
        color: white;
        padding: 3rem 2rem;
        border-radius: 15px;
        margin-bottom: 2rem;
        background-image: linear-gradient(135deg, #A2C1DD 0%, #096dd9 100%);
        box-shadow: 0 4px 15px rgba(24, 144, 255, 0.2);
    }

    .info-card {
        height: 100%;
        transition: all 0.3s ease;
        border-radius: 12px;
        overflow: hidden;
    }

        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

    .school-image {
        width: 100%;
        height: 300px;
        object-fit: cover;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .specialties-section {
        background-color: white;
        padding: 2rem;
        border-radius: 12px;
        margin: 2rem 0;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    .specialty-icon {
        font-size: 2.5rem;
        color: #1890ff;
        margin-bottom: 1rem;
    }

    .video-container {
        position: relative;
        padding-bottom: 56.25%;
        height: 0;
        overflow: hidden;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

    .title {
        color: inherit;
        font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        margin-bottom: 1.5rem;
    }

    .paragraph {
        color: inherit;
        font-size: 1.1rem;
        line-height: 1.6;
        margin-bottom: 1rem;
    }
</style>

<Layout>
    <Content Class="page-content">
        @*Header Section *@
        <div class="header-section">
            <Row Gutter="24" Align="middle">
                <Col Span="24" Lg="14">
                <Title Level="1" Class="title">Escuela de Educación Secundaria Técnica Nº1 "Mariano Moreno"</Title>
                <Paragraph Class="paragraph">
                    Más de @yearsPassed años formando técnicos profesionales en Chivilcoy, Buenos Aires. Una institución educativa estatal comprometida con la excelencia académica y la formación integral de nuestros estudiantes.
                </Paragraph>
                </Col>
                <Col Span="24" Lg="10">
                <img src="Images/School.jpg" alt="Fachada de la Escuela" class="school-image" />
                </Col>
            </Row>
        </div>

        @* Specialties Section *@
        <div class="specialties-section">
            <Title Level="2">Nuestras Especialidades</Title>
            <Row Gutter="24">
                <Col Span="24" Md="12">
                <Card Class="info-card">
                    <Icon Type="laptop" Class="specialty-icon" />
                    <Title Level="3">Técnico en Informática Profesional y Personal</Title>
                    <Paragraph>
                        Formación especializada en tecnologías de la información, programación y sistemas informáticos.
                    </Paragraph>
                </Card>
                </Col>
                <Col Span="24" Md="12">
                <Card Class="info-card">
                    <Icon Type="tool" Class="specialty-icon" />
                    <Title Level="3">Técnico Electromecánico</Title>
                    <Paragraph>
                        Preparación integral en sistemas electromecánicos, automatización y mantenimiento industrial.
                    </Paragraph>
                </Card>
                </Col>
            </Row>
        </div>
        <Flex Align="center" Justify="center" Style="width: 100%; max-height: 300px; margin: 20px;">
            <div style="max-width: 800px; max-height: 300px;">
                <ImageCarousel ImageSrc="@schoolImages" />
            </div>
        </Flex>
        @* Mission, Vision, Values Section *@
        <Row Gutter="24">
            <Col Span="24" Md="8">
            <Card Class="info-card">
                <Title Level="3" Style="color: #1890ff;">Misión</Title>
                <Paragraph>
                    Nuestra misión es proporcionar una educación técnica de alta calidad que prepare a los estudiantes para enfrentar los desafíos del mundo laboral y académico. Nos esforzamos por fomentar el desarrollo de habilidades técnicas, el pensamiento crítico y la creatividad.
                </Paragraph>
            </Card>
            </Col>
            <Col Span="24" Md="8">
            <Card Class="info-card">
                <Title Level="3" Style="color: #1890ff;">Visión</Title>
                <Paragraph>
                    Aspiramos a ser una institución líder en educación técnica, reconocida por la excelencia de nuestros programas académicos y la calidad de nuestros egresados. Buscamos innovar continuamente en nuestras metodologías de enseñanza.
                </Paragraph>
            </Card>
            </Col>
            <Col Span="24" Md="8">
            <Card Class="info-card">
                <Title Level="3" Style="color: #1890ff;">Valores</Title>
                <Paragraph>
                    Promovemos valores como la responsabilidad, el respeto, la solidaridad y el compromiso, fundamentales para el desarrollo integral de nuestros estudiantes y su desempeño en la sociedad.
                </Paragraph>
            </Card>
            </Col>
        </Row>

        @*Video Section*@
        <Row Style="margin-top: 2rem;">
            <Col Span="24">
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/_MWoRgv3q1U?si=qIY-ndjwMFX3p3a4" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
            </Col>
        </Row>
    </Content>
</Layout>

@code {
    private List<string> schoolImages = new()
    {
        "Images/ImagesIndex/1.jpg",
        "Images/ImagesIndex/2.jpg",
        "Images/ImagesIndex/3.jpg",
        "Images/ImagesIndex/4.jpg",
        "Images/ImagesIndex/5.jpg",
        "Images/ImagesIndex/6.jpg",
        "Images/ImagesIndex/7.jpg",
        "Images/ImagesIndex/8.jpg",
        "Images/ImagesIndex/9.jpg",
        "Images/ImagesIndex/10.jpg",
    };

    /// <summary>
    /// Fecha de Fundación de la Institución
    /// </summary>
    private DateTime foundationDate = new DateTime(1910, 5, 12);
    /// <summary>
    /// Fecha Actual
    /// </summary>
    private DateTime currentDate = DateTime.Now;
    /// <summary>
    /// Años transcurridos desde la fundación
    /// </summary>
    private int yearsPassed;

    protected override async Task OnInitializedAsync()
    {
        // Calcular los años transcurridos desde la fundación
        yearsPassed = currentDate.Year - foundationDate.Year;
        
        // Ajusta si la fecha actual es anterior al aniversario de la fundación de este año
        if (currentDate < foundationDate.AddYears(yearsPassed))
        {
            yearsPassed--;
        }
    }
}